!function(){"use strict";var e,t={773:function(){const e=GLSR.Utils.dom,t=e=>{GLSR.Modal.open("glsr-modal-error",{focus:!0,onOpen:t=>{let r=e?.code||"unknown";t.root.classList.add("glsr-modal-small"),t.root.classList.add("glsr-modal-error"),t.header(e?.title||"Something went wrong"),t.content(e?.message||"Unable to load.",{class:`is-modal-error is-${r}-error`})}})},r=(e,r,s)=>{GLSR.Utils.isEmpty(e?.message)?~["report-review","share-review"].indexOf(r?.action)?o(e,r):"translate-review"!==r?.action?"upvote-review"!==r?.action?t(e):s.dataset.score=e.score||"":n(s,e):t(e)},n=(t,r)=>{const n=`#review-${t.dataset.id}`,o=t.closest(n);if(o){let t=e("div");t.innerHTML=r.rendered;let n=t.querySelector(".glsr-translate-review-button");n&&(n.dataset.translated=r.translated,n.querySelector("span").innerHTML=r.text),o.outerHTML=t.innerHTML,GLSR.Event.trigger("site-reviews/init")}},o=e=>{GLSR.Modal.open("glsr-modal-action",{focus:!0,onClose:e=>{GLSR.forms=GLSR.forms.filter((e=>!!e.form.closest("body"))),GLSR.Event.off("site-reviews/form/handle",s)},onOpen:t=>{t.root.classList.add("glsr-modal-small"),t.header(e.header),t.content(e.content,{class:e.classes}),t.footer(e.footer),setTimeout((()=>{e.Modal=t,GLSR.Event.on("site-reviews/form/handle",s),GLSR.Event.trigger("site-reviews/init")}),50)}})},s=e=>{!0===e?.success&&GLSR.Modal.modify("glsr-modal-action",(t=>{t.root.classList.add("glsr-modal-success"),t.header(e.title),t.content(e.message)}))},i=function(e){var t,n,o;e.preventDefault(),e.stopImmediatePropagation();const s=e.currentTarget;let i=s.dataset.action;const l={action:i,form:null!==(t=s.closest(".glsr")?.dataset?.form)&&void 0!==t?t:"",review_id:s.dataset.id,theme:null!==(n=s.closest(".glsr")?.dataset?.theme)&&void 0!==n?n:"",translated:null!==(o=s.dataset?.translated)&&void 0!==o&&o};~["report-review","share-review"].indexOf(i)&&(i=`fetch-${i}-form`),a(i,l,r,s)},a=(e,r,n,o)=>{(e=>{if(e){if(1==+e.dataset.loading)return!0;e.dataset.loading=1}return!1})(o)||GLSR.ajax.post(GLSR.ajax.data(e,r),((e,s)=>{if((e=>{e&&(e.dataset.loading=0)})(o),s)return n(e,r,o);t(e),console.error({data:r,response:e})}))};var l=()=>{document.querySelectorAll(".glsr-review-actions button[data-action]").forEach((e=>{e.removeEventListener("click",i),e.addEventListener("click",i)}))};const d="site-reviews-actions",c=()=>l();GLSR.Event.on(d+"/init",c),GLSR.Event.on("site-reviews/modal/open",c),GLSR.Event.on("site-reviews/pagination/init",c),GLSR.Event.on("site-reviews/pagination/handle",c),GLSR.Event.on("site-reviews/init",(()=>{GLSR.Event.trigger(d+"/init")}))},115:function(){},282:function(){}},r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var s=r[e]={exports:{}};return t[e](s,s.exports,n),s.exports}n.m=t,e=[],n.O=function(t,r,o,s){if(!r){var i=1/0;for(c=0;c<e.length;c++){r=e[c][0],o=e[c][1],s=e[c][2];for(var a=!0,l=0;l<r.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(a=!1,s<i&&(i=s));if(a){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,o,s]},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={716:0,617:0,494:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,s,i=r[0],a=r[1],l=r[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)var c=l(n)}for(t&&t(r);d<i.length;d++)s=i[d],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.O(void 0,[617,494],(function(){return n(773)})),n.O(void 0,[617,494],(function(){return n(115)}));var o=n.O(void 0,[617,494],(function(){return n(282)}));o=n.O(o)}();